<div class="container-fluid mt-4">
  <div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-7">
      <div class="card">
        <div class="card-body" style="padding-top:0%;padding-bottom: 0%;">
          <div class="row">
            <div class="col-md-1 bg-light" style="max-width: 5%;">
              <div class="row">
                <button mat-icon-button type="submit">
                  <i class="fa fa-arrow-circle-up fa-2x ml-2"></i>
                </button>
              </div>
              <div class="row">
                <mat-icon
                  class="mt-3"
                  [matBadge]="getevent.up"
                  matBadgeColor="accent"
                >
                </mat-icon>
              </div>
            </div>
            <div class="col-md-11">
              <div class="row">
                <div class="col-md-2">
                  <span class="card-subtitle" style="font-size: x-small;"
                    ><i class="fa fa-user"></i>
                    {{ getevent.user.userName }}</span
                  >
                </div>
                <div class="col-md-2" style="margin-left:-5%;">
                  <span
                    class="card-subtitle text-muted"
                    style="font-size: x-small;"
                    >{{ getevent.eventDate | date: shortDate }}</span
                  >
                </div>
                <div class="col-md-8"></div>
              </div>
              <div class="row">
                <p class="card-text ml-3 mt-2">
                  {{ getevent.description }}
                </p>
              </div>
              <div class="row">
                <div class="col mt-2">
                  <a
                    routerLink="/eventDetail/{{ getevent.id }}"
                    class="card-link bg-light mb-1"
                    style="font-size: x-small; color: darkgrey;"
                  >
                    <i class="badge badge-light">{{
                      getevent.comments.length
                    }}</i>
                    Comments</a
                  >
                </div>
                <div class="col-md-1 ml-auto">
                  <a
                    href="#"
                    class="card-link bg-light mb-1"
                    style="font-size: x-small; color: darkgrey;"
                  >
                    <i class=" fa fa-check-square fa-2x"></i
                  ></a>
                </div>
              </div>
            </div>
          </div>
          <!-- <h6 class="card-title">Oğuzhan Gülen</h6>
          <h6 class="card-subtitle mb-2 text-muted">1 dakika önce</h6>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="#" class="card-link">Yorum</a>
          <a href="#" class="card-link">Detay</a> -->

          <!-- <form [formGroup]="cityAddForm" (ngSubmit)="add()" class="form-cityadd">
            <h2 class="mt-3 pt-3">Yeni bir şehir ekle</h2>
            <div class="form-group">
              <input type="text" id="name" formControlName="name" class="form-control" placeholder="Şehir adı" autofocus>
              <span class="help-block" *ngIf="cityAddForm.get('name').hasError('required') && cityAddForm.get('name').touched">
                Şehir adı zorunludur
              </span>
            </div>
            <div class="form-group">
              <app-ngx-editor class="form-control" id="description"
               name="description" 
               [placeholder]="'Buraya notlarınızı giriniz'"
               formControlName="description"
               [spellcheck]="true">
              </app-ngx-editor>
              
              <span class="help-block" *ngIf="cityAddForm.get('description').hasError('required') && cityAddForm.get('description').touched">
                Not girmeniz zorunludur
              </span>
            </div>
            <button type="submit" class="btn btn-lg btn-primary btn-block" [disabled]="!cityAddForm.valid">Ekle</button> -->
        </div>
      </div>
      <div class="card" *ngIf="!isAuthenticated()" style="min-height: 120px;">
        <form
          [formGroup]="addcomment"
          (ngSubmit)="add()"
          class="example-form"
          style="width: 100%;"
        >
          <mat-form-field style="width: 80%;">
            <textarea
              matInput
              formControlName="comment"
              id="comment"
              class="form-control"
              style="width:100%; max-height: 70px;"
              required
              placeholder="Yorum yap"
            ></textarea>
            <span
              class="help-block mt-1"
              style="font-size: small;"
              *ngIf="addcomment.get('comment').hasError('required')"
            >
              Alan boş bırakılamaz.
            </span>
          </mat-form-field>
          <button
            mat-raised-button
            type="submit"
            class="ml-5"
            [disabled]="!addcomment.valid"
          >
            Paylaş
          </button>
        </form>
      </div>
      <div class="card" *ngFor="let item of getevent.comments">
        <div class="card-body" style="padding-top:0%;padding-bottom: 0%;">
          <div class="row">
            <div class="col-md-1 bg-light" style="max-width: 5%;">
              <!-- <div class="row">
              <button mat-icon-button type="submit"><i class="fa fa-arrow-circle-up fa-2x ml-2"></i></button>
            </div>
            <div class="row">
              <mat-icon class="mt-3" [matBadge]="getevent.up" matBadgeColor="accent">
              </mat-icon>
            </div> -->
            </div>
            <div class="col-md-11">
              <div class="row">
                <div class="col-md-2">
                  <span class="card-subtitle" style="font-size: x-small;"
                    ><i class="fa fa-user"></i> {{ item.user.userName }}</span
                  >
                </div>
                <div class="col-md-2" style="margin-left:-5%;">
                  <span
                    class="card-subtitle text-muted"
                    style="font-size: x-small;"
                  >
                    {{ item.commentDate | date: shortDate }}
                  </span>
                </div>
                <div class="col-md-8"></div>
              </div>
              <div class="row">
                <p class="card-text ml-3 mt-2">
                  {{ item.comment }}
                </p>
              </div>
            </div>
          </div>
          <!-- <h6 class="card-title">Oğuzhan Gülen</h6>
          <h6 class="card-subtitle mb-2 text-muted">1 dakika önce</h6>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="#" class="card-link">Yorum</a>
          <a href="#" class="card-link">Detay</a> -->
        </div>
      </div>
    </div>
    <div class="col-md-3"></div>
  </div>
</div>
